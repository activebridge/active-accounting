<div class='report'>

  <div class='month-picker-wrapper'>
    Місяць: <input type='text' id='month-picker'/>
  </div>

  <ul>
    <li class='header'>
      <div class='title'>
        Надходження
      </div>
      <div class='value'>
        {{ totalRevenue }}
      </div>
    </li>

    <li ng-repeat='revenue in revenues'>
      <div class='title title_revenue' ng-click='register_show=!register_show'> {{ revenue.article }} </div>
      <div class='value'> {{ revenue.value }} </div>

      <table class="ng-scope register_table" ng-show='register_show'>
        <tr>
          <th>Дата</th>
          <th>Стаття</th>
          <th>Контрагент</th>
          <th>Сума</th>
          <th></th>
        </tr>

        <tr ng-repeat='register in revenue.registers'>
          <td>
            {{ register.date }}
          </td>
          <td>
            {{ register.article }}
          </td>
          <td>
            {{ register.counterparty }}
          </td>
          <td>
            {{ register.value }}
          </td>
          <td>
            {{ register.notes }}
          </td>
        </tr>
      </table>

      <ul class='nested-report-items'>
        <li ng-repeat='c in revenue.counterparties' class="{{ revenue.article_type }}">
          <div ng-show="c.name">
            <div class='title nested'>{{ c.name }}</div>
            <div class='value nested'>{{ c.value }}</div>
          </div>
        </li>
      </ul>
    </li>
  </ul>

  <div class='clearboth'></div>

  <ul>
    <li class='header'>
      <div class='title'>
        Витрати
      </div>
      <div class='value'>
        {{ totalCost }}
      </div>
    </li>

    <li ng-repeat='cost in costs'>
      <div class='title title_cost' ng-click='register_show=!register_show'> {{ cost.article }} </div>
      <div class='value'> {{ cost.value }} </div>

      <table class="ng-scope register_table" ng-show='register_show'>
        <tr>
          <th>Дата</th>
          <th>Стаття</th>
          <th>Контрагент</th>
          <th>Сума</th>
          <th></th>
        </tr>

        <tr ng-repeat='register in cost.registers'>
          <td>
            {{ register.date }}
          </td>
          <td>
            {{ register.article }}
          </td>
          <td>
            {{ register.counterparty }}
          </td>
          <td>
            {{ register.value }}
          </td>
          <td>
            {{ register.notes }}
          </td>
        </tr>
      </table>

      <ul class='nested-report-items'>
        <li ng-repeat='c in cost.counterparties' class="{{ cost.article_type }}">
          <div ng-show="c.name">
            <div class='title nested'>{{ c.name }}</div>
            <div class='value nested'>{{ c.value }}</div>
          </div>
        </li>
      </ul>
    </li>
  </ul>

  <div class='clearboth'></div>

  <ul>
    <li class='header'>
      <div class='title'>
        Прибуток
      </div>
      <div class='value'>
        {{ totalProfit }}
      </div>
    </li>
  </ul>

  <div class='clearboth'></div>

  <ul>
    <li class='header'>
      <div class='title'>
        Трансляція
      </div>
      <div class='value'>
        {{ totalTranslation }}
      </div>
    </li>

    <li ng-repeat='item in translations'>
      <div class='title title_item' ng-click='register_show=!register_show'> {{ item.article }} </div>
      <div class='value'> {{ item.value }} </div>

      <table class="ng-scope register_table" ng-show='register_show'>
        <tr>
          <th>Дата</th>
          <th>Стаття</th>
          <th>Контрагент</th>
          <th>Сума</th>
          <th></th>
        </tr>

        <tr ng-repeat='register in item.registers'>
          <td>
            {{ register.date }}
          </td>
          <td>
            {{ register.article }}
          </td>
          <td>
            {{ register.counterparty }}
          </td>
          <td>
            {{ register.value }}
          </td>
          <td>
            {{ register.notes }}
          </td>
        </tr>
      </table>

      <ul class='nested-report-items'>
        <li ng-repeat='c in item.counterparties' class="{{ item.article_type }}">
          <div ng-show="c.name">
            <div class='title nested'>{{ c.name }}</div>
            <div class='value nested'>{{ c.value }}</div>
          </div>
        </li>
      </ul>
    </li>
  </ul>

  <div class='clearboth'></div>
</div>
