app = angular.module('ActiveAccounting', ['accounting.services'])

app.directive 'initSelect2', ($timeout) ->
  restrict: 'A'
  link: (scope, element, attr) ->
    if scope.$last
      scope.$evalAsync attr.initSelect2
    return

app.directive "repeatComplete", ->
  (scope, element, attrs) ->
    if (scope.$last || scope.$index == 0)
      $('select.color-record').simplecolorpicker({picker: true, pickerDelay: 600})
      $("input.value").numeric({ decimalPlaces: 2 })

app.directive "numeric", ->
  (scope, element, attrs) ->
    element.numeric
      negative: false
      decimalPlaces: 2

app.directive "datepicker", ->
  (scope, element, attrs) ->
    element.datepicker
      dateFormat: 'dd-mm-yy'

app.directive "editRegister", ->
  restrict: 'E'
  scope: { ngModel: '=', articles:'=', counterparties: '=', sandbox: '='}
  require: '^ngModel'
  templateUrl: '<%= asset_path("angular/reports/edit_register.html") %>'
  replace: true
  controller: ["$scope", '$q', "Article", "Counterparty", "Register", "PlanRegister", '$cookies', 'registerDecorator',
  ($scope, $q, Article, Counterparty, Register, PlanRegister, $cookies, registerDecorator) ->
    registerDecorator($scope)
  ]

app.config ['$translateProvider', ($translateProvider) ->
  $translateProvider.translations "en",
    autoFill_hours: 'AutoFill hours'
    title: 'Title'
    count_working_days: 'The total number of working days'
    list_holidays: 'List of our holidays for'
    holidays: 'Holidays'
    password_error: 'Current password incorrect'
    current_pass: 'Current password'
    new_password: 'New password'
    confirmation_pass: 'Password confirmation'
    change_pass: 'Change Password'
    hours_calendar: 'Calendar by hours'
    management_hours: 'Management own hours'
    other: 'OTHER'
    tax: 'TAX'
    tax_rate: 'TAX RATE'
    subtotal: 'SUBTOTAL'
    rate: 'Rate'
    savePdf: 'Export to PDF'
    create: 'Create'
    invoices: 'Invoices'
    success_message: 'Changes saved successfully!'
    address: 'Address'
    agreement: 'Agreement'
    invoice: 'Invoice'
    repr_name: 'Name of Person Responsible'
    editClientInfo: 'Edit customer information'
    totalHours: 'Total hours'
    totalHoursByCustomers: 'Total hours by customers'
    vendorsAndCustumersEstimate: 'Hours vendors with customers'
    report_hours: 'Reports by hours'
    success_send: 'Vendor is updated end message is sent!'
    hours: 'Hours'
    sing_out: 'Sign Out'
    sendOnEmail: 'Send invite on email'
    email: 'Email'
    counterparties: "Counterparties"
    counterparty: "Counterparty"
    articles: "Articles"
    article: "Article"
    register: "Register"
    reports: "Reports"
    charts: "Charts"
    name: "Name"
    type: "Type"
    date: "Date"
    activ_cont: "Active counterparties"
    inacti_cont: "Inactive Counterparties"
    NewArticle: "Add"
    articles: "Articles"
    Revenue: "revenue"
    Cost: "cost"
    Translation: "translation"
    Loan: "loan"
    profit: "profit"
    month: "Month"
    totall: "Total"
    totall_min: "Total(min)"
    clearForm: "Clear form"
    searchFilter: "Search filter"
    note: "Note"
    notes: "Notices"
    background_color: "Background color"
    default_color: "Default"
    edit_reg: "Editing"
    delete_reg: "Delete records"
    deleteInfo: "Removal is not possible . Counterparty has connections."
    filter: "Filter"
    cancel: "Cancel"
    save_changes: "Save changes"
    month_all: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec"
    year: "Year"
    yearSmall: 'year'
    nextYear: "Next Year"
    prevYear: "Previous Year"
    jumpYears: "Jump Years"
    prevText: "Prev"
    nextText: "Next"
    datePickerLocal: "en-GB"
    fullMonthsName: 'January,February,March,April,May,June,July,August,September,October,November,December'
    months: "Jan. Feb. Mar. Apr. May. June. July. Aug. Sep. Oct. Nov. Dec."
    sandbox: "Sandbox"
    show: "Show"
    hide: "Hide"
    all_plans: "All plans"
    on_plan: "on plan"
    in_fact: "in fact"
    plan_month: "Plan month"
    currency_UA: "UAH"
    rate_currency: "Rate dollar:"
    update: "Update"
    more_records: "More records..."
    payment: "Payment"
    monthly_payment: "Monthly payment"
    warning: "Warning!"
    info_monthly_payment: "Monthly payment has not been paid for counterparty."
    close: "Close"
    or: "or"
    count_without_pay: "Counterparties without pay"
    closed: "Closed"
    alas: "Alas!"
    info_not_found: "Information not found by the search."
    Customer: 'Customer'
    Customers: 'Customers'
    Vendor: 'Vendor'
    Vendors: 'Vendors'
    Other: 'Other'
    Others: 'Others'
    activity: 'Active'

  $translateProvider.translations "uk",
    autoFill_hours: 'Автозаповнення годин'
    title: 'Назва'
    count_working_days: 'Загальна кількість робочих днів'
    list_holidays: 'Список наших свят на'
    holidays: 'Свята'
    password_error : 'Невірний поточний пароль!'
    current_pass : "Поточний пароль"
    new_password : "Новий пароль "
    confirmation_pass : "Підтвердження нового пароля "
    change_pass: 'Змінити пароль'
    management_hours: 'Управління власними годинами'
    hours_calendar: 'Календар по годиннам'
    other: 'Інші'
    tax: 'Податок'
    subtotal: 'Разом'
    tax_rate: 'Ставка податку'
    rate: 'Ставка'
    savePdf: 'Експорт в PDF'
    create: 'Створити'
    invoices: 'Рахунки'
    success_message: 'Зміни успішно збережені!'
    agreement: 'Угода'
    invoice: 'Рахунок'
    address: 'Адреса'
    editClientInfo: 'Редагувати інформацію про клієнта'
    repr_name: "Ім'я відвовідальної особи"
    totalHours: 'Всього годин'
    totalHoursByCustomers: 'Всього годин по клієнтах'
    vendorsAndCustumersEstimate: 'Години постачальників з клієнтами'
    report_hours: 'Звіти по годинах'
    success_send: 'Постачальник успішно оновився і лист йому відправленно!'
    hours: 'Години'
    sing_out: 'Вийти'
    sendOnEmail: 'Надіслати запрошення на електронну пошту'
    email: 'Email'
    counterparties: "Контрагенти"
    counterparty: "Контрагент"
    articles: "Статті"
    article: "Стаття"
    register: "Реєстр"
    reports: "Звіти"
    charts: "Графік"
    name: "Ім'я"
    type: "Тип"
    date: "Дата"
    activ_cont: "Активні контрагенти"
    inacti_cont: "Не активні контрагенти"
    NewArticle: "Додати"
    articles: "Статті"
    Revenue: "надходження"
    Cost: "витрати"
    Translation: "трансляція"
    Loan: "позика"
    profit: "прибуток"
    month: "Місяць"
    totall: "Сумма"
    totall_min: "Сумма(min)"
    clearForm: "Очистити форму"
    SearchFilter: "Пошук за фільтром"
    notes: "Примітки"
    note: "Примітка"
    background_color: "Колір фону"
    default_color: "За замовчуванням"
    edit_reg: "Редагувати"
    delete_reg: "Видалення запису"
    deleteInfo: "Видалення не можливе. Контрагент має зв’язки."
    filter: "Фільтр"
    cancel: "Відміна"
    save_changes: "Зберегти зміни"
    month_all: "Січ,Лют,Бер,Кві,Тра,Чер,Лип,Сер,Вер,Жов,Лис,Гру"
    year: "Рік"
    yearSmall: 'рік'
    nextYear: "Наступний рік"
    prevYear: "Попередній рік"
    jumpYears: "Вибрати рік"
    datePickerLocal: "uk"
    fullMonthsName:'Січень,Лютий,Березень,Квітень,Травень,Червень, Липень,Серпень,Вересень,Жовтень,Листопад,Грудень'
    months:"Січ. Лют. Бер. Кві. Тра. Чер. Лип. Сер. Вер. Жов. Лис. Груд."
    sandbox: "Сандбокс"
    show: "Показати"
    hide: "Сховати"
    all_plans: "Всі плани"
    on_plan: "за планом"
    in_fact: "по факту"
    plan_month: "План місяця"
    currency_UA: "ГРН"
    rate_currency: "Курс долару:"
    update: "Оновити"
    more_records: "Ще записи..."
    payment: "Платіж"
    monthly_payment: "Щомісячний платіж"
    warning: "Увага!"
    info_monthly_payment: "Щомісячний платіж не був проплачений контрагенту."
    close: "Закрити"
    or: "або"
    count_without_pay: "Контрагенти без проплати"
    closed: "Закрити"
    alas: "На жаль!"
    info_not_found: "Інформацію не знайдено за пошуком."
    Customer: 'Клієнт'
    Customers: 'Клієнти'
    Vendor: 'Постачальник'
    Vendors: 'Постачальники'
    Other: 'Інший'
    Others: 'Інші'
    activity: 'Активний'


  $translateProvider.preferredLanguage "uk"
  return
]
